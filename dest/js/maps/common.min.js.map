{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","autoBlockHeight","checkboxes","cover","nav","mask","resize","innerWidth","each","th","this","height","tw","width","im","ih","addClass","removeClass","on","find","is","$navButton","$navClose","$nav","$page","$overlay","navState","hide","fadeIn","scrollLock","hasClass","e","preventDefault","show","visibleOnly","effect","effectTime","afterLoad","mh","$block","window","css","h_block","parseInt","home","prevArrow","$slider","parents","nextArrow","slick","infinite","dots","arrows","fade","speed"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChBC,OADAF,kBACAE,aACAC,QACAC,MACAC,OACAC,EAAAA,gBAAGC,KAAA,wBAEHR,EAAAA,QAAES,OAAA,WAPJC,WAAAV,EAAA,QAAAU,eAcA,IAAIA,WAAaV,EAAE,QAAQU,aAG3B,SAASJ,QACPN,EAAE,cAAcW,KAAK,WAEnB,IAAIC,EAAKZ,EAAEa,MAAMC,SAASC,EAAAf,EAAAa,MAAAG,QACpBC,EAAKjB,EAADa,MAAOG,SADjB,OACyBE,EAAAD,EAAAH,SACdG,EAAFD,QAAwBE,GAAAH,EAAAH,EAC3BK,EAAKE,SAHX,MAAAC,YAAA,MAQIH,EAAGE,SAAS,MAAMC,YAAY,QACjC,SAAAf,aACFL,EAZD,oBAAAqB,GAAA,QAAA,WAcFrB,EAAAa,MAAAS,KAAA,SAAAC,GAAA,YAIMvB,EAAEa,MAAMM,SAAS,2BAHvBnB,EAAAa,MAASR,YAAa,6BAKhBL,SAAEO,MACH,IAAAiB,EAAAxB,EAAA,aALHyB,EAAAzB,EAAA,eAQF0B,EAAA1B,EAAA,gBAKI2B,EAAQ3B,EAAE,uBACV4B,EAAW5B,EAAE,YAWf4B,SAASP,IACHK,EAACN,SAAY,4BACjBS,WAAQC,KAAA9B,EAAA,SAFV2B,EAAAR,SAAA,UASIS,EAASG,OAAO,OAHlBC,WAASC,KAASjC,EAAA,SAChBgC,EAAAA,YAAkB,UAClBL,EAAMR,QAAS,MAvBnBK,EAAIA,GAAU,QAAK,SAAnBU,GAAAA,EACET,iBADFC,EAEEA,YAAS,2BAFXG,MAMAL,EAAUH,GAAV,QAAA,WACEa,EAAEC,YAAF,2BACAT,MAEDE,EAJDP,GAAA,mBAAA,WAKAI,EAAAA,YAAa,2BACXC,MAcEM,EAAAA,QAAAA,OAAWI,WACLhB,IAANO,aACAC,EAAAA,YAAiB,2BAClBC,OAICH,SAAAA,OACAG,EAAAA,SAAAA,KAAQ,CACTQ,aAAA,EAGLC,OAAA,SAMIC,WAAY,MACZC,UAAW,WANflC,WAKIiC,SAAAA,kBAaF,SAAS9B,IACP,IAAIgC,EAAK,EAPbC,EAAStC,EAAAA,6BAELuC,EAAFC,IAAUnC,SAAO,QACfA,EAAME,KAAA,WADR,IAAAkC,EAAAC,SAAA9C,EAAAa,MAAAC,UAWiB2B,EAAVI,IAPPJ,EAAShC,KAIPiC,EAAOE,OAAIH,GAhBXD,IACElC,EAAAA,QAAKG,OAAA,WACNA,MAiBC,SAAAsC,OACEN,IAAAA,EAAKI,EAAAA,gBACNG,EAAAC,EAAAC,QAAA,WAAA5B,KAAA,uBASD6B,EAAYF,EAAQC,QAAQ,WAAW5B,KAAK,uBAR7C2B,EALD5B,GAAA,0BAAA,WAMAqB,SAaFO,EAAQG,MAAM,CACZC,UAAU,EAVdC,MAASP,EACPQ,QAAIN,EAAJO,MACIR,EADJS,MAEIN,IAEJF,aAAW,EACT9C,eAAI,EADN6C,UAAAA,EAIAC,UAAAE","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  autoBlockHeight();\r\n  checkboxes();\r\n  cover();\r\n  nav();\r\n  home();\r\n  $(\".input_phone\").mask(\"+7 (999) 999-99-99\");\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\n\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function() {\r\n    //set size\r\n    var th = $(this).height(),//box height\r\n        tw = $(this).width(),//box width\r\n        im = $(this).children('img'),//image\r\n        ih = im.height(),\r\n        iw = im.width();\r\n    if ((tw/th) >= (iw/ih)) {\r\n        im.addClass('ww').removeClass('wh');\r\n    } else {\r\n        im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n//checkboxes\r\nfunction checkboxes() {\r\n  $('.checkbox__label').on('click', function() {\r\n    if ($(this).find('input').is(':checked')) {\r\n      $(this).addClass('checkbox__label_checked');\r\n    } else {\r\n      $(this).removeClass('checkbox__label_checked');\r\n    }\r\n  })\r\n}\r\n//nav\r\nfunction nav() {\r\n  var $navButton = $('.nav-open'),\r\n    $navClose = $('.nav__close'),\r\n    $nav = $('.header__nav'),\r\n    $page = $('.wrapper__container'),\r\n    $overlay = $('.overlay')\r\n\r\n  $navButton.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('header__content_visible')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $page.addClass('active');\r\n      $overlay.fadeIn(300);\r\n    } else {\r\n      scrollLock.show($(\"body\"));\r\n      $page.removeClass('active');\r\n      $overlay.fadeOut(300);\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      $nav.removeClass('header__content_visible');\r\n      navState();\r\n    }\r\n  });\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: false,\r\n    //threshold: '500',\r\n    effect: 'fadeIn',\r\n    effectTime: '300',\r\n    afterLoad: function() {\r\n      cover();\r\n    }\r\n  });\r\n}\r\n//blocks\r\nfunction autoBlockHeight() {\r\n  resize();\r\n  $(window).resize(function () {\r\n    resize();\r\n  });\r\n\r\n  function resize() {\r\n    var mh = 0,\r\n    $block = $(\".project-block__container\");\r\n\r\n    $block.css('height', 'auto');\r\n    $block.each(function () {\r\n      var h_block = parseInt($(this).height());\r\n      if(h_block > mh) {\r\n        mh = h_block;\r\n      };\r\n    });\r\n    $block.height(mh);\r\n  }\r\n}\r\n//clients\r\nfunction home() {\r\n  var $slider = $('.home-slider'),\r\n      prevArrow = $slider.parents('.slider').find('.slider-button_prev'),\r\n      nextArrow = $slider.parents('.slider').find('.slider-button_next');\r\n\r\n  $slider.on('init reInit afterChange', function(){\r\n    lazy();\r\n  })\r\n\r\n  $slider.slick({\r\n    infinite: true,\r\n    dots: false,\r\n    arrows: true,\r\n    fade: true,\r\n    speed: 400,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    prevArrow: prevArrow,\r\n    nextArrow: nextArrow\r\n  });\r\n}"]}